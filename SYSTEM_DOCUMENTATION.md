# ระบบจัดการโรงแรม (Hotel Management System) - คู่มือผู้ใช้

## ภาพรวมระบบ

ระบบจัดการโรงแรมนี้เป็น Web Application ที่พัฒนาด้วย React + TypeScript สำหรับจัดการการดำเนินงานโรงแรมครบวงจร ตั้งแต่การจองห้อง การเช็คอิน/เช็คเอาท์ ไปจนถึงการจัดการข้อมูลหลักและการออกรายงาน

## โครงสร้างระบบ

ระบบใช้สถาปัตยกรรม MVC Pattern แบ่งเป็น:
- **Models/Services**: จัดการข้อมูลและ Business Logic 
- **Views**: ส่วนแสดงผล UI สำหรับผู้ใช้
- **Controllers**: ตัวควบคุมเชื่อมต่อระหว่าง Services และ Views

## รายละเอียดคุณสมบัติแต่ละเมนู

### 1. แดชบอร์ด (Dashboard)
**ไฟล์หลัก**: `src/features/Dashboard/`

**วัตถุประสงค์**: ให้ภาพรวมการดำเนินงานโรงแรมในเวลาจริง

**คุณสมบัติ**:
- **การ์ดสรุปข้อมูล**: แสดงจำนวนห้องทั้งหมด ห้องว่าง ห้องที่มีผู้เข้าพัก อัตราการเข้าพัก เช็คอิน/เช็คเอาท์วันนี้
- **ตารางสถานะห้องพัก**: แสดงสถานะห้องพัก 30 ห้องในรูปแบบกริด พร้อมสีบ่งบอกสถานะ
  - สีเขียว: ห้องว่าง
  - สีแดง: ไม่ว่าง 
  - สีเหลือง: จอง
  - สีฟ้า: ทำความสะอาด
- **Quick Actions**: ลิงก์ไปยังงานแม่บ้านและการจัดการแขก

**การใช้งาน**: คลิกที่ห้องแต่ละห้องเพื่อดูรายละเอียด (อยู่ระหว่างพัฒนา)

---

### 2. แผนกต้อนรับ (Front Desk)

#### 2.1 เช็คอิน (Check-in)
**ไฟล์หลัก**: `src/features/FrontDesk/Views/CheckinView.tsx`

**วัตถุประสงค์**: ดำเนินการเช็คอินแขกเข้าพักพร้อมลงทะเบียนรถ

**คุณสมบัติ**:
- **เลือกห้องพัก**: เลือกห้องจาก dropdown ที่แสดงเฉพาะห้องว่างและห้องที่จองไว้
- **ข้อมูลแขก**: กรอกชื่อ เบอร์โทร อีเมล (ไม่บังคับ)
- **ลงทะเบียนป้ายทะเบียน**: 
  - กรอกป้ายทะเบียนด้วยตนเอง
  - หรือใช้ LPR (License Plate Recognition) จำลอง
- **การตรวจสอบ**: ระบบตรวจสอบว่าเลือกห้องและกรอกป้ายทะเบียนแล้ว

**ขั้นตอนการใช้งาน**:
1. เลือกห้องพักที่ต้องการ
2. กรอกข้อมูลแขก (ถ้าต้องการ)
3. กรอกป้ายทะเบียนหรือใช้กล้องจำลอง
4. คลิก "เช็คอินแขก"

#### 2.2 เช็คเอาท์ (Check-out)  
**ไฟล์หลัก**: `src/features/FrontDesk/Views/CheckoutView.tsx`

**วัตถุประสงค์**: ดำเนินการเช็คเอาท์แขกพร้อมคิดเงินและชำระเงิน

**คุณสมบัติ**:
- **เลือกการจอง**: เลือกจากรายการแขกที่พักอยู่ในปัจจุบัน
- **คำนวณค่าใช้จ่าย**: แสดงค่าห้อง ค่าบริการ ภาษี และยอดรวม
- **ขั้นตอนเช็คเอาท์**: ระบบแบ่งเป็น 3 ขั้นตอน
  1. เลือกการจองและตรวจสอบค่าใช้จ่าย
  2. เลือกวิธีชำระเงิน
  3. ยืนยันและพิมพ์ใบเสร็จ

**ขั้นตอนการใช้งาน**:
1. เลือกการจองที่ต้องการเช็คเอาท์
2. ตรวจสอบรายการค่าใช้จ่าย
3. เลือกวิธีการชำระเงิน
4. ยืนยันการเช็คเอาท์

#### 2.3 ย้ายห้องพัก (Room Transfer)
**ไฟล์หลัก**: `src/features/FrontDesk/Views/RoomTransferView.tsx`

**วัตถุประสงค์**: จัดการการย้ายแขกระหว่างห้องพัก

**คุณสมบัติ**:
- **เลือกห้องต้นทางและปลายทาง**: เลือกห้องที่จะย้ายออกและย้ายเข้า
- **ข้อมูลแขก**: ระบุชื่อแขก (ไม่บังคับสำหรับ walk-in)
- **เหตุผลการย้าย**: เลือกเหตุผลจากรายการที่กำหนดไว้
- **ระบบอนุมัติ**: การอนุมัติ/ปฏิเสธคำขอย้ายห้อง
- **ประวัติการย้าย**: ดูประวัติการย้ายห้องทั้งหมด

**ขั้นตอนการใช้งาน**:
1. เลือกห้องต้นทางและปลายทาง
2. ระบุชื่อแขก (ถ้าทราบ)
3. เลือกเหตุผลการย้าย
4. เพิ่มหมายเหตุ (ถ้าต้องการ)
5. ส่งคำขอย้ายห้อง

---

### 3. ตรวจสอบห้องพัก (Room Inspection)
**ไฟล์หลัก**: `src/features/RoomInspection/Views/RoomInspectionView.tsx`

**วัตถุประสงค์**: ตรวจสอบห้องพักหลังแขกเช็คเอาท์ เพื่อบันทึกการใช้สินค้าและความเสียหาย

**คุณสมบัติ**:
- **เลือกห้องที่ต้องตรวจสอบ**: เลือกจากรายการห้องที่มีแขกเช็คเอาท์
- **บันทึกการใช้สินค้า**: 
  - เลือกสินค้าจาก dropdown
  - ระบุจำนวนที่ใช้ด้วยปุ่ม +/-
  - คำนวณราคาอัตโนมัติ
- **ตรวจสอบความเสียหาย**:
  - เลือกรายการของที่เสียหาย
  - ระบบคิดค่าเสียหายเต็มจำนวน (ไม่มีระดับความเสียหาย)
- **สรุปผลการตรวจสอบ**: แสดงค่าใช้จ่ายรวมทั้งหมด

**ขั้นตอนการใช้งาน**:
1. เลือกห้องที่ต้องการตรวจสอบ
2. เพิ่มสินค้าที่แขกใช้งาน
3. ปรับจำนวนสินค้าที่ใช้
4. บันทึกความเสียหาย (ถ้ามี)
5. ตรวจสอบสรุปค่าใช้จ่าย
6. บันทึกผลการตรวจสอบ

---

### 4. การจองห้องพัก (Reservations)

#### 4.1 รายการจองห้อง (Reservation List)
**ไฟล์หลัก**: `src/features/Reservations/Views/ReservationListView.tsx`

**วัตถุประสงค์**: จัดการและติดตามการจองห้องพักทั้งหมด

**คุณสมบัติ**:
- **ตารางรายการจอง**: แสดงรายการจองทั้งหมดพร้อมรายละเอียด
- **การค้นหา**: ค้นหาด้วยชื่อแขกหรือเลขที่การจอง
- **การกรอง**: กรองตามสถานะ (รออนุมัติ, ยืนยันแล้ว, เช็คอินแล้ว, ยกเลิก)
- **สถิติแบบเร็ว**: แสดงจำนวนการจองแต่ละสถานะ
- **การจัดการ**: อัปเดตสถานะ, ยกเลิกการจอง, เช็คอิน

**ขั้นตอนการใช้งาน**:
1. ดูรายการจองทั้งหมดในตาราง
2. ใช้ช่องค้นหาหรือตัวกรองเพื่อหาการจองที่ต้องการ
3. คลิกเมนู "..." เพื่อดำเนินการต่างๆ

#### 4.2 จองห้องใหม่ (New Reservation)
**ไฟล์หลัก**: `src/features/Reservations/Views/ReservationFormView.tsx`

**วัตถุประสงค์**: สร้างการจองห้องพักใหม่

**คุณสมบัติ**:
- **ข้อมูลแขก**: กรอกชื่อ อีเมล โทรศัพท์
- **รายละเอียดการจอง**: วันที่เช็คอิน เช็คเอาท์ จำนวนผู้เข้าพัก
- **เลือกห้อง**: เลือกประเภทห้องและห้องเฉพาะ
- **คำนวณราคา**: คำนวณราคาอัตโนมัติตามจำนวนคืน
- **ส่วนลด**: ระบุส่วนลดถ้ามี

**ขั้นตอนการใช้งาน**:
1. กรอกข้อมูลแขก
2. เลือกวันที่เช็คอิน/เช็คเอาท์
3. เลือกประเภทห้องและห้องเฉพาะ
4. ตรวจสอบราคาและส่วนลด
5. คลิก "สร้างการจอง"

---

### 5. การจัดการห้องพัก (Room Operations)

#### 5.1 บันทึกการใช้สินค้า (Consumption Entry)
**ไฟล์หลัก**: `src/features/RoomOps/Views/ConsumptionView.tsx`

**วัตถุประสงค์**: บันทึกการใช้สินค้าและบริการของแขกแต่ละห้อง

**คุณสมบัติ**:
- **เลือกห้องพัก**: เลือกห้องที่มีแขกเข้าพัก
- **เพิ่มสินค้า**: เลือกสินค้าจาก dropdown และระบุจำนวน
- **คำนวณราคา**: คำนวณราคารวมอัตโนมัติ
- **บันทึกหลายรายการ**: เพิ่มสินค้าหลายรายการในครั้งเดียว

**ขั้นตอนการใช้งาน**:
1. เลือกห้องที่ต้องการบันทึก
2. เลือกสินค้าและระบุจำนวน
3. คลิก "เพิ่มสินค้า" เพื่อเพิ่มในรายการ
4. คลิก "บันทึกการใช้สินค้า" เพื่อยืนยัน

#### 5.2 รายงานของเสียหาย (Damage Reports)
**ไฟล์หลัก**: `src/features/RoomOps/Views/DamageReportView.tsx`

**วัตถุประสงค์**: บันทึกและติดตามความเสียหายในห้องพัก

**คุณสมบัติ**:
- **สร้างรายงาน**: บันทึกของเสียหายใหม่
- **ตารางรายงาน**: แสดงรายงานทั้งหมดพร้อมสถานะ
- **อัปเดตสถานะ**: เปลี่ยนสถานะจาก "รออนุมัติ" เป็น "อนุมัติ" หรือ "ปฏิเสธ"
- **คำนวณค่าเสียหาย**: แสดงค่าชดเชยที่ต้องเรียกเก็บ

#### 5.3 โยกย้ายห้องพัก (Room Transfers)  
**ไฟล์หลัก**: `src/features/RoomOps/Views/RoomTransferView.tsx`

**วัตถุประสงค์**: จัดการการโยกย้ายแขกระหว่างห้อง

**คุณสมบัติ**:
- **เลือกห้องต้นทาง**: ห้องที่มีแขกพักอยู่
- **เลือกห้องปลายทาง**: ห้องว่างที่จะโยกย้ายไป
- **เหตุผลการโยกย้าย**: ระบุเหตุผล เช่น ห้องเสียหาย อัปเกรด
- **อนุมัติการโยกย้าย**: ระบบการอนุมัติ 2 ขั้นตอน

---

### 6. แม่บ้าน (Housekeeping)
**ไฟล์หลัก**: `src/features/Housekeeping/Views/HousekeepingDashboard.tsx`

**วัตถุประสงค์**: จัดการงานแม่บ้านและการทำความสะอาดห้อง

**คุณสมบัติ**:
- **งานที่ต้องทำ**: รายการห้องที่ต้องทำความสะอาด
- **งานกำลังดำเนินการ**: ห้องที่กำลังทำความสะอาดอยู่
- **งานเสร็จแล้ว**: ห้องที่ทำความสะอาดเสร็จแล้ว
- **คำขอซ่อมบำรุง**: บันทึกและติดตามงานซ่อม
- **กำหนดงาน**: มอบหมายงานให้พนักงานแม่บ้าน

**ขั้นตอนการใช้งาน**:
1. ดูรายการงานในแต่ละแท็บ
2. คลิก "เริ่มงาน" เพื่อเริ่มทำความสะอาด
3. คลิก "เสร็จสิ้น" เมื่อทำเสร็จ
4. บันทึก "คำขอซ่อมบำรุง" ถ้ามีอุปกรณ์เสียหาย

---

### 7. ตั้งค่าระบบ (Settings)

#### 7.1 ประเภทห้องและราคา (Room Types & Rates)
**ไฟล์หลัก**: `src/features/Settings/Views/RoomTypesView.tsx`

**วัตถุประสงค์**: จัดการประเภทห้องพักและอัตราราคา

**คุณสมบัติ**:
- **เพิ่ม/แก้ไข**: ประเภทห้อง รหัส ราคา
- **สิ่งอำนวยความสะดวก**: เลือกสิ่งอำนวยความสะดวกของแต่ละประเภท
- **การจัดการ**: ลบหรือปิดใช้งานประเภทห้อง

#### 7.2 ข้อมูลสินค้า (Products Master)
**ไฟล์หลัก**: `src/features/Settings/Views/ProductsView.tsx`

**วัตถุประสงค์**: จัดการข้อมูลสินค้าและบริการ

**คุณสมบัติ**:
- **รายการสินค้า**: ชื่อ ราคา หมวดหมู่
- **จัดการสต็อค**: ติดตามจำนวนคงเหลือ
- **กำไร**: คำนวณกำไรจากต้นทุนและราคาขาย

#### 7.3 รายการของเสียหาย (Damage Items Master)
**ไฟล์หลัก**: `src/features/Settings/Views/DamageItemsView.tsx`

**วัตถุประสงค์**: จัดการรายการของที่อาจเสียหายในห้อง

**คุณสมบัติ**:
- **รายการของ**: ชื่อ หมวดหมู่ ค่าชดเชย
- **อัปเดตราคา**: ปรับราคาค่าชดเชยตามสภาพตลาด

#### 7.4 ผู้ใช้และสิทธิ์ (Users & Roles)  
**ไฟล์หลัก**: `src/features/Settings/Views/UsersView.tsx`

**วัตถุประสงค์**: จัดการผู้ใช้ระบบและสิทธิ์การเข้าถึง

**คุณสมบัติ**:
- **ข้อมูลผู้ใช้**: ชื่อ อีเมล บทบาท ตำแหน่ง
- **สิทธิ์การเข้าถึง**: กำหนดสิทธิ์ตามบทบาท (Admin, Manager, Staff, Housekeeper)
- **สถานะ**: เปิด/ปิดการใช้งานผู้ใช้

---

### 8. รายงาน (Reports)
**ตำแหน่งเมนู**: รายงาน → [เลือกประเภทรายงาน]
**การเข้าถึง**: เมนูหลัก "รายงาน" จะแสดง submenu 3 ตัวเลือก

#### 8.1 รายงานรายได้ (Revenue Report) 
**เส้นทาง**: รายงาน → รายงานรายได้
**ไฟล์หลัก**: `src/features/Reports/Views/RevenueReportView.tsx`

**วัตถุประสงค์**: วิเคราะห์รายได้และประสิทธิภาพทางการเงิน

**คุณสมบัติ**:
- **กราฟรายได้**: แสดงรายได้รายวันแยกตามประเภท (ห้องพัก/บริการ)
- **กราฟอัตราการเข้าพัก**: แสดง occupancy rate แบบ bar chart
- **สรุปข้อมูล**: รายได้รวม อัตราการเข้าพักเฉลี่ย จำนวนวันในรายงาน
- **ตารางรายละเอียด**: ข้อมูลรายวันแบบละเอียด
- **ส่งออกข้อมูล**: ดาวน์โหลดเป็นไฟล์ CSV
- **ช่วงเวลา**: เลือกช่วงวันที่ที่ต้องการรายงาน

#### 8.2 รายงานการเข้าพัก (Occupancy Report)
**เส้นทาง**: รายงาน → รายงานการเข้าพัก  
**ไฟล์หลัก**: `src/features/Reports/Views/OccupancyReportView.tsx`

**วัตถุประสงค์**: วิเคราะห์อัตราการเข้าพักและประสิทธิภาพการใช้ห้อง

**คุณสมบัติ**:
- **กราฟการเข้าพัก**: Area chart แสดงจำนวนห้องที่เข้าพักและห้องว่าง
- **กราฟประสิทธิภาพ**: Line chart สำหรับ ADR และ RevPAR
- **ตัวชี้วัดสำคัญ**: 
  - **ADR** (Average Daily Rate): ราคาห้องเฉลี่ยต่อคืน
  - **RevPAR** (Revenue Per Available Room): รายได้ต่อห้องที่มีให้บริการ
  - **Occupancy Rate**: อัตราการเข้าพักเฉลี่ย
- **ตารางรายละเอียด**: ข้อมูลรายวันพร้อมตัวชี้วัด
- **ส่งออกข้อมูล**: ดาวน์โหลดเป็นไฟล์ CSV

#### 8.3 บันทึกการใช้งาน (Audit Logs)
**เส้นทาง**: รายงาน → บันทึกการใช้งาน
**ไฟล์หลัก**: `src/features/Reports/Views/AuditLogsView.tsx`

**วัตถุประสงค์**: ติดตามและตรวจสอบการใช้งานระบบเพื่อความปลอดภัย

**คุณสมบัติ**:
- **บันทึกกิจกรรม**: เข้า/ออกระบบ การสร้าง แก้ไข ลบข้อมูล
- **กรองข้อมูล**: กรองตามโมดูล (การยืนยันตัวตน, การจอง, แผนกต้อนรับ ฯลฯ) ช่วงเวลา
- **สถิติการใช้งาน**: จำนวนบันทึกทั้งหมด ผู้ใช้ที่ใช้งาน IP Address ที่แตกต่าง
- **การแสดงผล**: ตารางแสดงเวลา ผู้ใช้ โมดูล การกระทำ รายละเอียด
- **ความปลอดภัย**: ติดตาม IP Address และรายละเอียดการเข้าถึง
- **ส่งออกข้อมูล**: ดาวน์โหลดบันทึกเป็นไฟล์ CSV

---

## การใช้งานทั่วไป

### การนำทาง
- ใช้ sidebar เมนูทางซ้าย
- breadcrumb แสดงตำแหน่งปัจจุบัน  
- เมนูที่เลือกจะมีพื้นหลังสีฟ้าและข้อความสีขาว
- เมนูหลักสามารถขยาย/ย่อเพื่อแสดง submenu
- การ hover เมนูที่ไม่ได้เลือกจะมีพื้นหลังสีฟ้าอ่อน

### ข้อมูลจำลอง
ระบบใช้ข้อมูลจำลองสำหรับการทดสอบ:
- โรงแรม 30 ห้อง
- ประเภทห้อง 4 แบบ
- สินค้าและบริการ 50+ รายการ
- การจองและแขก 100+ รายการ

### การส่งออกข้อมูล
ระบบรองรับการส่งออกเป็นไฟล์ CSV ในหน้ารายงานต่างๆ

### การแจ้งเตือน
ระบบจะแสดง Alert หรือ Snackbar เมื่อดำเนินการสำเร็จหรือเกิดข้อผิดพลาด

---

## ข้อมูลเทคนิค

### เทคโนโลยีที่ใช้
- **Frontend**: React 18 + TypeScript + Vite
- **UI Framework**: Material-UI v5 (MUI)
- **State Management**: MobX
- **Routing**: React Router v6
- **Icons**: Material-UI Icons
- **Charts**: Recharts
- **Layout**: @toolpad/core DashboardLayout

### โครงสร้างโฟลเดอร์
```
src/
├── components/     # Shared components
├── constants/      # ค่าคงที่และการกำหนดค่า
├── features/       # Feature modules (MVC)
│   ├── Dashboard/
│   ├── FrontDesk/
│   ├── Reservations/
│   ├── RoomOps/
│   ├── Housekeeping/
│   ├── Settings/
│   └── Reports/
├── layout/         # Layout components
├── services/       # Shared services
├── types/          # TypeScript type definitions
└── utils/          # Utility functions
```

### การพัฒนาต่อ
ระบบออกแบบให้ขยายได้ง่าย:
- เพิ่ม Feature ใหม่ในโฟลเดอร์ `features/`
- ปรับแต่ง UI themes
- เชื่อมต่อ API Backend
- เพิ่มระบบ Authentication
- เพิ่มการแจ้งเตือนแบบ Real-time